<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>To-Do List - Complete Solution</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px;
      }

      .container {
        background: white;
        border-radius: 20px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        width: 100%;
        max-width: 600px;
        padding: 30px;
      }

      h1 {
        color: #333;
        text-align: center;
        margin-bottom: 30px;
        font-size: 2.5em;
      }

      .input-section {
        display: flex;
        gap: 10px;
        margin-bottom: 30px;
      }

      #taskInput {
        flex: 1;
        padding: 15px;
        border: 2px solid #e0e0e0;
        border-radius: 10px;
        font-size: 16px;
        transition: border-color 0.3s;
      }

      #taskInput:focus {
        outline: none;
        border-color: #667eea;
      }

      #addButton {
        padding: 15px 30px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        border-radius: 10px;
        font-size: 16px;
        cursor: pointer;
        transition: transform 0.2s, box-shadow 0.2s;
        font-weight: bold;
      }

      #addButton:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
      }

      #addButton:active {
        transform: translateY(0);
      }

      .filter-section {
        display: flex;
        gap: 10px;
        margin-bottom: 20px;
        justify-content: center;
      }

      .filter-button {
        padding: 10px 20px;
        border: 2px solid #667eea;
        background: white;
        color: #667eea;
        border-radius: 8px;
        cursor: pointer;
        font-size: 14px;
        transition: all 0.3s;
        font-weight: 500;
      }

      .filter-button:hover {
        background: #f0f0f0;
      }

      .filter-button.active {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
      }

      #taskList {
        list-style: none;
      }

      .task-item {
        background: #f8f9fa;
        padding: 15px;
        margin-bottom: 10px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        gap: 15px;
        transition: all 0.3s;
        animation: slideIn 0.3s ease;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateX(-20px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      .task-item:hover {
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        transform: translateX(5px);
      }

      .task-item.completed {
        opacity: 0.6;
      }

      .task-item.completed .task-text {
        text-decoration: line-through;
        color: #888;
      }

      .task-checkbox {
        width: 24px;
        height: 24px;
        cursor: pointer;
        accent-color: #667eea;
      }

      .task-text {
        flex: 1;
        font-size: 16px;
        color: #333;
      }

      .delete-button {
        background: #ff4757;
        color: white;
        border: none;
        padding: 8px 15px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 14px;
        transition: background 0.3s;
      }

      .delete-button:hover {
        background: #ff3742;
      }

      .empty-state {
        text-align: center;
        color: #999;
        padding: 40px;
        font-size: 18px;
      }

      .task-count {
        text-align: center;
        margin-top: 20px;
        color: #666;
        font-size: 14px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>üìù My To-Do List</h1>

      <div class="input-section">
        <input type="text" id="taskInput" placeholder="Add a new task..." />
        <button id="addButton">Add Task</button>
      </div>

      <div class="filter-section">
        <button class="filter-button active" data-filter="all">All</button>
        <button class="filter-button" data-filter="active">Active</button>
        <button class="filter-button" data-filter="completed">Completed</button>
      </div>

      <ul id="taskList"></ul>
      <div class="task-count" id="taskCount"></div>
    </div>

    <script>
      // Get DOM elements
      const taskInput = document.getElementById("taskInput")
      const addButton = document.getElementById("addButton")
      const taskList = document.getElementById("taskList")
      const filterButtons = document.querySelectorAll(".filter-button")
      const taskCount = document.getElementById("taskCount")

      // State management
      let tasks = []
      let currentFilter = "all"

      // Load tasks from localStorage
      function loadTasks() {
        const savedTasks = localStorage.getItem("tasks")
        if (savedTasks) {
          tasks = JSON.parse(savedTasks)
        }
        renderTasks()
      }

      // Save tasks to localStorage
      function saveTasks() {
        localStorage.setItem("tasks", JSON.stringify(tasks))
      }

      // Add new task
      function addTask() {
        const taskText = taskInput.value.trim()
        if (taskText === "") {
          alert("Please enter a task!")
          return
        }

        const newTask = {
          id: Date.now(),
          text: taskText,
          completed: false,
        }

        tasks.push(newTask)
        taskInput.value = ""
        saveTasks()
        renderTasks()
      }

      // Toggle task completion
      function toggleTask(id) {
        const task = tasks.find((t) => t.id === id)
        if (task) {
          task.completed = !task.completed
          saveTasks()
          renderTasks()
        }
      }

      // Delete task
      function deleteTask(id) {
        tasks = tasks.filter((t) => t.id !== id)
        saveTasks()
        renderTasks()
      }

      // Filter tasks
      function filterTasks(filter) {
        currentFilter = filter

        // Update active filter button
        filterButtons.forEach((btn) => {
          if (btn.dataset.filter === filter) {
            btn.classList.add("active")
          } else {
            btn.classList.remove("active")
          }
        })

        renderTasks()
      }

      // Get filtered tasks
      function getFilteredTasks() {
        switch (currentFilter) {
          case "active":
            return tasks.filter((t) => !t.completed)
          case "completed":
            return tasks.filter((t) => t.completed)
          default:
            return tasks
        }
      }

      // Create a task element
      function createTaskElement(task) {
        // Create the list item
        const li = document.createElement("li")
        li.className = "task-item"
        if (task.completed) {
          li.classList.add("completed")
        }

        // Create checkbox
        const checkbox = document.createElement("input")
        checkbox.type = "checkbox"
        checkbox.className = "task-checkbox"
        checkbox.checked = task.completed
        checkbox.addEventListener("change", () => toggleTask(task.id))

        // Create task text span
        const taskText = document.createElement("span")
        taskText.className = "task-text"
        taskText.textContent = task.text

        // Create delete button
        const deleteButton = document.createElement("button")
        deleteButton.className = "delete-button"
        deleteButton.textContent = "Delete"
        deleteButton.addEventListener("click", () => deleteTask(task.id))

        // Append all elements to the list item
        li.appendChild(checkbox)
        li.appendChild(taskText)
        li.appendChild(deleteButton)

        return li
      }

      // Render tasks
      function renderTasks() {
        // Clear existing tasks
        taskList.innerHTML = ""

        const filteredTasks = getFilteredTasks()

        if (filteredTasks.length === 0) {
          let message = ""
          if (currentFilter === "all" && tasks.length === 0) {
            message = "No tasks yet. Add one above!"
          } else if (currentFilter === "active") {
            message = "No active tasks! üéâ"
          } else if (currentFilter === "completed") {
            message = "No completed tasks yet."
          } else {
            message = "No tasks match this filter."
          }

          const emptyLi = document.createElement("li")
          emptyLi.className = "empty-state"
          emptyLi.textContent = message
          taskList.appendChild(emptyLi)
        } else {
          // Create and append each task element
          filteredTasks.forEach((task) => {
            const taskElement = createTaskElement(task)
            taskList.appendChild(taskElement)
          })
        }

        // Update task count
        const activeCount = tasks.filter((t) => !t.completed).length
        const completedCount = tasks.filter((t) => t.completed).length
        taskCount.textContent = `${activeCount} active, ${completedCount} completed`
      }

      // Event listeners
      addButton.addEventListener("click", addTask)

      taskInput.addEventListener("keypress", (e) => {
        if (e.key === "Enter") {
          addTask()
        }
      })

      filterButtons.forEach((button) => {
        button.addEventListener("click", () => {
          filterTasks(button.dataset.filter)
        })
      })

      // Initialize
      loadTasks()
    </script>
  </body>
</html>
